{"version":3,"sources":["webpack:///./src/components/ChangePasswordDialog.vue?e0c2","webpack:///src/components/ChangePasswordDialog.vue","webpack:///./src/components/ChangePasswordDialog.vue?d321","webpack:///./src/components/ChangePasswordDialog.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","show","expression","staticClass","_v","old_password","new_password_1","new_password_2","on","$event","stopPropagation","reset_fields","$emit","password_match","doit","staticRenderFns","name","props","data","methods","url","logout","$store","computed","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACE,MAAM,CAAC,WAAa,GAAG,YAAY,OAAOC,MAAM,CAACC,MAAOR,EAAQ,KAAES,SAAS,SAAUC,GAAMV,EAAIW,KAAKD,GAAKE,WAAW,SAAS,CAACR,EAAG,SAAS,CAACA,EAAG,eAAe,CAACS,YAAY,YAAY,CAACb,EAAIc,GAAG,qBAAqBV,EAAG,cAAc,CAACA,EAAG,SAAS,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,OAAS,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,IAAM,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,aAAe,MAAM,KAAO,WAAW,KAAO,eAAe,MAAQ,gBAAgBC,MAAM,CAACC,MAAOR,EAAgB,aAAES,SAAS,SAAUC,GAAMV,EAAIe,aAAaL,GAAKE,WAAW,mBAAmB,GAAGR,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,IAAM,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,aAAe,MAAM,KAAO,WAAW,KAAO,iBAAiB,MAAQ,gBAAgBC,MAAM,CAACC,MAAOR,EAAkB,eAAES,SAAS,SAAUC,GAAMV,EAAIgB,eAAeN,GAAKE,WAAW,qBAAqB,GAAGR,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,IAAM,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,aAAe,MAAM,KAAO,WAAW,KAAO,iBAAiB,MAAQ,uBAAuBC,MAAM,CAACC,MAAOR,EAAkB,eAAES,SAAS,SAAUC,GAAMV,EAAIiB,eAAeP,GAAKE,WAAW,qBAAqB,IAAI,IAAI,IAAI,GAAGR,EAAG,YAAYA,EAAG,iBAAiB,CAACA,EAAG,SAAS,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,iBAAiB,KAAO,IAAIY,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOC,kBAAkBpB,EAAIqB,eAAerB,EAAIsB,MAAM,6BAA8B,CAACtB,EAAIc,GAAG,YAAYV,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,eAAe,KAAO,GAAG,SAAWN,EAAIuB,gBAAgBL,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOC,kBAAyBpB,EAAIwB,KAAKL,MAAW,CAACnB,EAAIc,GAAG,SAAS,IAAI,IAAI,IAAI,IAC9mDW,EAAkB,G,oCCwDtB,GACEC,KAAM,yBACNC,MAAO,CAAC,QACRC,KAAM,WAAR,OACA,gBACA,kBACA,oBAEEC,QAAS,CACPL,KAAM,WAAV,WACA,GACQM,IAAK,sBACLf,aAAcd,KAAKc,aACnBC,eAAgBf,KAAKe,eACrBC,eAAgBhB,KAAKgB,gBAEvB,OAAN,OAAM,CAAN,GACA,kBAAQ,OACR,WACU,MAAV,KACU,KAAV,uBACU,KAAV,eAGA,kBAAQ,OAAR,oBACA,kBACQ,EAAR,mCAVA,UAcA,YACA,QACU,EAAV,SACY,MAAZ,QACY,KAAZ,qBACY,KAAZ,cAMII,aAAc,WACZpB,KAAKc,aAAe,GACpBd,KAAKe,eAAiB,GACtBf,KAAKgB,eAAiB,IAGxBc,OAAQ,WAAZ,WACM9B,KAAK+B,OACX,iBACA,iBACQ,EAAR,2BAEA,iBACQ,EAAR,4BAIEC,SAAU,CACRV,eAAgB,WACd,QACN,8BACA,8CCvH8V,I,YCO1VW,EAAY,eACd,EACAnC,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAS,E","file":"js/chunk-2d0ac35d.2ea8a676.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"290\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Change password\")]),_c('v-card-text',[_c('v-form',[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"autocomplete\":\"off\",\"type\":\"password\",\"name\":\"old_password\",\"label\":\"Old password\"},model:{value:(_vm.old_password),callback:function ($$v) {_vm.old_password=$$v},expression:\"old_password\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"autocomplete\":\"off\",\"type\":\"password\",\"name\":\"new_password_1\",\"label\":\"New password\"},model:{value:(_vm.new_password_1),callback:function ($$v) {_vm.new_password_1=$$v},expression:\"new_password_1\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"autocomplete\":\"off\",\"type\":\"password\",\"name\":\"new_password_2\",\"label\":\"Repeat new password\"},model:{value:(_vm.new_password_2),callback:function ($$v) {_vm.new_password_2=$$v},expression:\"new_password_2\"}})],1)],1)],1)],1),_c('v-spacer'),_c('v-card-actions',[_c('v-flex',[_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.reset_fields();_vm.$emit('change-password-closed');}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"flat\":\"\",\"disabled\":_vm.password_match},on:{\"click\":function($event){$event.stopPropagation();return _vm.doit($event)}}},[_vm._v(\"Ok\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"show\" persistent max-width=\"290\">\n    <v-card>\n      <v-card-title class=\"headline\">Change password</v-card-title>\n      <v-card-text>\n        <v-form>\n          <v-layout column>\n            <v-flex xs12 md6>\n              <v-text-field\n                autocomplete=\"off\"\n                v-model=\"old_password\"\n                type=\"password\"\n                name=\"old_password\"\n                label=\"Old password\"\n              ></v-text-field>\n            </v-flex>\n            <v-flex xs12 md6>\n              <v-text-field\n                autocomplete=\"off\"\n                v-model=\"new_password_1\"\n                type=\"password\"\n                name=\"new_password_1\"\n                label=\"New password\"\n              ></v-text-field>\n            </v-flex>\n            <v-flex xs12 md6>\n              <v-text-field\n                autocomplete=\"off\"\n                v-model=\"new_password_2\"\n                type=\"password\"\n                name=\"new_password_2\"\n                label=\"Repeat new password\"\n              ></v-text-field>\n            </v-flex>\n          </v-layout>\n        </v-form>\n      </v-card-text>\n      <v-spacer></v-spacer>\n      <v-card-actions>\n        <v-flex>\n          <v-btn\n            color=\"green darken-1\"\n            flat\n            @click.stop=\"reset_fields();$emit('change-password-closed');\"\n          >Cancel</v-btn>\n          <v-btn color=\"red darken-1\" flat @click.stop=\"doit\" :disabled=\"password_match\">Ok</v-btn>\n        </v-flex>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport api_call from \"../utils/api\";\nimport { AUTH_LOGOUT } from \"../store/actions/auth\";\nimport { RESET_PROJECT } from \"../store/actions/project\";\n\nexport default {\n  name: \"change-password-dialog\",\n  props: [\"show\"],\n  data: () => ({\n    old_password: \"\",\n    new_password_1: \"\",\n    new_password_2: \"\"\n  }),\n  methods: {\n    doit: function() {\n      let params = {\n        url: \"/api/changepassword\",\n        old_password: this.old_password,\n        new_password_1: this.new_password_1,\n        new_password_2: this.new_password_2\n      };\n      api_call(params)\n        .then(resp =>\n          this.$notify({\n            title: \"Ok\",\n            text: resp.data.success_message,\n            type: \"success\"\n          })\n        )\n        .then(resp => this.reset_fields())\n        .then(resp => {\n          this.$emit(\"change-password-closed\");\n        })\n\n        //.then(this.logout())\n        .catch(err => {\n          if (err.data) {\n            this.$notify({\n              title: \"Error\",\n              text: err.data.error_message,\n              type: \"error\"\n            });\n          }\n        });\n    },\n\n    reset_fields: function() {\n      this.old_password = \"\";\n      this.new_password_1 = \"\";\n      this.new_password_2 = \"\";\n    },\n\n    logout: function() {\n      this.$store\n        .dispatch(AUTH_LOGOUT)\n        .then(() => {\n          this.$store.dispatch(RESET_PROJECT);\n        })\n        .then(() => {\n          this.$router.push(\"/login\");\n        });\n    }\n  },\n  computed: {\n    password_match: function() {\n      if (\n        this.new_password_1.length > 0 &&\n        this.new_password_1 === this.new_password_2\n      ) {\n        return false;\n      }\n\n      return true;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePasswordDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePasswordDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePasswordDialog.vue?vue&type=template&id=f5388834&\"\nimport script from \"./ChangePasswordDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePasswordDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}