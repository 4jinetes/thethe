{"version":3,"sources":["webpack:///./src/components/PluginSelector.vue?5e65","webpack:///src/components/PluginSelector.vue","webpack:///./src/components/PluginSelector.vue?af17","webpack:///./src/components/PluginSelector.vue","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","_t","proxy","model","value","callback","$$v","sheet","expression","_v","_l","plugin","name","on","$event","launch","avatar_color","last_update","_s","description","_e","staticRenderFns","props","data","plugin_list","mounted","url","resource_id","resource","_id","resource_type","project_id","$store","getters","methods","plugin_name","entry","formatted_time","ts","date","update_pluginglist_dates","watch","deep","handler","component","defineWellKnownSymbol","$","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","String","result","symbolPrototype","constructor","symbolToString","toString","native","regexp","configurable","get","symbol","valueOf","string","call","desc","slice","replace","forced"],"mappings":"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","file":"js/chunk-0f4d160d.bf10db9f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-xs-center\"},[_c('v-bottom-sheet',{attrs:{\"inset\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_vm._t(\"default\")]},proxy:true}],null,true),model:{value:(_vm.sheet),callback:function ($$v) {_vm.sheet=$$v},expression:\"sheet\"}},[_c('v-list',[_c('v-subheader',[_c('b',[_vm._v(\"Available plugins\")]),_vm._v(\" (click on a entry to launch task) \")]),_c('v-divider'),_vm._l((_vm.plugin_list),function(plugin){return _c('v-list-tile',{key:plugin.name,attrs:{\"two-line\":\"\"},on:{\"click\":function($event){_vm.launch(plugin);\n          _vm.sheet = false;}}},[_c('v-list-tile-avatar',[(plugin.is_active)?_c('v-icon',{attrs:{\"color\":_vm.avatar_color(plugin.last_update)}},[_vm._v(\"warning\")]):_c('v-icon',{attrs:{\"color\":_vm.avatar_color(plugin.last_update)}},[_vm._v(\"info\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(plugin.name))]),_c('v-list-tile-sub-title',[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"lg6\":\"\"}},[_vm._v(_vm._s(plugin.description))]),(plugin.last_update)?_c('v-flex',[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('span',[_vm._v(\"Last update: \")]),_c('span',[_vm._v(_vm._s(plugin.last_update))])])],1):_vm._e()],1)],1)],1)],1)})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"text-xs-center\">\n    <v-bottom-sheet v-model=\"sheet\" inset>\n      <template v-slot:activator>\n        <slot></slot>\n      </template>\n      <v-list>\n        <v-subheader>\n          <b>Available plugins</b>&nbsp; (click on a entry to launch task)\n        </v-subheader>\n        <v-divider></v-divider>\n        <v-list-tile\n          v-for=\"plugin in plugin_list\"\n          :key=\"plugin.name\"\n          @click=\"\n            launch(plugin);\n            sheet = false;\n          \"\n          two-line\n        >\n          <v-list-tile-avatar>\n            <v-icon v-if=\"plugin.is_active\" :color=\"avatar_color(plugin.last_update)\">warning</v-icon>\n            <v-icon v-else :color=\"avatar_color(plugin.last_update)\">info</v-icon>\n          </v-list-tile-avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>{{ plugin.name }}</v-list-tile-title>\n            <v-list-tile-sub-title>\n              <v-layout align-center>\n                <v-flex lg6>{{ plugin.description }}</v-flex>\n                <v-flex v-if=\"plugin.last_update\">\n                  <v-layout align-center>\n                    <span>Last update:&nbsp;</span>\n                    <span>{{ plugin.last_update }}</span>\n                  </v-layout>\n                </v-flex>\n              </v-layout>\n            </v-list-tile-sub-title>\n          </v-list-tile-content>\n        </v-list-tile>\n      </v-list>\n    </v-bottom-sheet>\n  </div>\n</template>\n\n<script>\nimport api_call from \"../utils/api\";\n\nexport default {\n  name: \"PluginSelector\",\n  props: { resource: Object },\n  data() {\n    return {\n      sheet: false,\n      plugin_list: []\n    };\n  },\n  mounted: function() {\n    let params = {\n      url: \"/api/get_related_plugins\",\n      resource_id: this.resource._id,\n      resource_type: this.resource.resource_type,\n      project_id: this.$store.getters[\"get_opened_project\"]._id\n    };\n\n    api_call(params)\n      .then(resp => {\n        this.plugin_list = resp.data;\n      })\n      .then(resp => this.update_pluginglist_dates());\n  },\n  methods: {\n    launch: function(entry) {\n      let params = {\n        url: \"/api/launch_plugin\",\n        resource_id: this.resource._id,\n        resource_type: this.resource.resource_type,\n        plugin_name: entry.name\n      };\n\n      // TODO: Signal plugin launching\n      api_call(params);\n    },\n\n    formatted_time: function(ts) {\n      if (!ts) {\n        return \"Not launched yet\";\n      }\n      let t = new Date(ts * 1000);\n      return `${t.toLocaleDateString()} at ${t.toLocaleTimeString()}`;\n    },\n\n    avatar_color: function(date) {\n      if (date !== null) return \"blue\";\n      return \"green\";\n    },\n\n    update_pluginglist_dates: function() {\n      for (let plugin of this.plugin_list) {\n        let match = this.resource.plugins.find(\n          elem => elem.name.localeCompare(plugin.name) == 0\n        );\n        if (typeof match !== \"undefined\") {\n          plugin.last_update = this.formatted_time(match.update_time);\n        } else {\n          plugin.last_update = null;\n        }\n      }\n    }\n  },\n  watch: {\n    resource: {\n      deep: true,\n      handler: function() {\n        this.update_pluginglist_dates();\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PluginSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PluginSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PluginSelector.vue?vue&type=template&id=7aad8489&\"\nimport script from \"./PluginSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./PluginSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}